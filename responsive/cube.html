<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>一种自适应屏幕宽度的固定长宽比的解决方案</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="viewport"content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
<meta name="author" content="HJin_me, hjin.me@gmail.com"/>
<meta name="robots" content="index,follow"/>
<style>
* {
    margin:0;
    padding:0;
}
html {
    font-size:100vw; // 太小的 font-size 会被 Chrome 拒绝。
}
body {
    font-size:12px;
}
.cube {
    width: 1rem;
    height: 1rem;
    background: yellow;
    color: black;
    line-height: 1rem;
    font-size: .2rem;
}

.half_cube {
    width: 1rem;
    height: .5rem;
    background: blue;
    color: white;
    line-height: .5rem;
    font-size: .2rem;
}
</style>
<script>
var detect = document.createElement('detect');
detect.style.fontSize = '1vw';
if(detect.style.fontSize !== '1vw') {
    onChangeWidth();
    window.onresize = onChangeWidth;
    window.addEventListener('orientationchange', onChangeWidth);
}
function onChangeWidth() {
    document.documentElement.style.fontSize = (window.innerWidth) + 'px';
}
</script>
</head>
<body>
<div class="cube">1:1</div>
<div class="half_cube">2:1</div>
</body>
</html>

